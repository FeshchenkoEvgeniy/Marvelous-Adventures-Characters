import{a as y}from"./assets/api-CEbok3hU.js";import{f as m,d as C}from"./assets/vendor-Dn3nGrsG.js";const g=document.querySelector("#date-picker");m(g,{defaultDate:new Date});function u(){return window.innerWidth<=767?{limit:5,offset:0,requiredCharacters:5,currentCategory:"mobile"}:window.innerWidth<=1439?{limit:8,offset:0,requiredCharacters:8,currentCategory:"tablet"}:{limit:16,offset:0,requiredCharacters:16,currentCategory:"desktop"}}const f=document.querySelector(".js-characters-list"),i=document.querySelector(".js-main-character__btn"),o=document.querySelector(".js-loader"),l=document.querySelector("body"),{limit:p,offset:b,requiredCharacters:q,currentCategory:w}=u(),t={limit:p,offset:b,requiredCharacters:q,currentCategory:w};let s=!0;window.addEventListener("resize",C(1e3,k));i.addEventListener("click",_);c();function k(){const e=u();e.currentCategory!==t.currentCategory&&(t.currentCategory=e.currentCategory,t.limit=e.limit,t.offset=0,t.requiredCharacters=e.requiredCharacters,f.innerHTML="",c())}function d(){s?(o.style.display="block",l.style.pointerEvents="none"):(o.style.display="none",l.style.pointerEvents="all")}async function c(){let e=[];for(i.style.display="none",s=!0,d();e.length<t.requiredCharacters;){try{const{data:r}=await y(t.offset,t.limit),n=r.results.filter(({thumbnail:{path:a}})=>!a.endsWith("image_not_available")&&!a.endsWith("4c002e0305708"));e=[...e,...n],t.offset+=t.limit}catch(r){console.log("Помилка під час запиту:",r);break}if(e.length>=t.requiredCharacters){e=e.slice(0,t.requiredCharacters),i.style.display="block",s=!1,d();break}}f.insertAdjacentHTML("beforeend",L(e))}function _(){t.offset>=1500&&(i.style.display="none"),c()}function L(e){return e.map(({name:r,resourceURI:n,thumbnail:{extension:a,path:h}})=>`
            <li class="characters__item" data-url='${n}'>
                <img src="${h}.${a}" alt="${r}" class="characters__img" />
                <p class="characters__name">${r}</p>
            </li>
        `).join("")}
//# sourceMappingURL=characters.js.map
