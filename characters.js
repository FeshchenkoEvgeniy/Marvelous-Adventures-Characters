import{b as m,d as C}from"./assets/createMarkup-DlEqHU6R.js";import{f as b,d as f}from"./assets/vendor-Dn3nGrsG.js";function y(){return window.innerWidth<=767?{limit:5,offset:0,requiredCharacters:5,currentCategory:"mobile"}:window.innerWidth<=1439?{limit:8,offset:0,requiredCharacters:8,currentCategory:"tablet"}:{limit:16,offset:0,requiredCharacters:16,currentCategory:"desktop"}}const g=document.querySelector("#date-picker"),p=document.querySelector(".js-filter-form"),n=document.querySelector(".js-characters-list"),h=document.querySelector(".js-main-character__btn"),c=document.querySelector(".js-loader"),d=document.querySelector("body"),u=document.querySelector(".notFound__box"),{limit:q,offset:k,requiredCharacters:w,currentCategory:v}=y(),r={limit:q,offset:k,requiredCharacters:w,currentCategory:v,total:0},a={comics:null,name:null,orderBy:null,date:null};function L(t){t.preventDefault(),alert(123);const e=y();e.currentCategory!==r.currentCategory&&(r.currentCategory=e.currentCategory,r.limit=e.limit,r.offset=0,r.requiredCharacters=e.requiredCharacters,o(),n.innerHTML="")}function s(t,e){t?(c.style.display="block",d.style.pointerEvents="none"):(c.style.display="none",d.style.pointerEvents="all"),h.style.display=e?"block":"none"}function M(t){t?(u.style.display="",n.style.display="none"):(u.style.display="none",n.style.display="")}o();function D(t){const e=t.target;switch(e.name){case"comics":a.comics=e.value.replace(/[^0-9]/g,"");break;case"name":a.name=e.value;break;case"orderBy":a.orderBy=e.value.toLowerCase();break}r.offset=0,n.innerHTML="",o()}async function o(){let t=[];for(s(!0,!1);t.length<r.requiredCharacters;){try{const{data:e}=await m(a,r.offset,r.limit);r.total=e.total,M(!e.results.length);const i=e.results.filter(({thumbnail:{path:l}})=>!l.endsWith("image_not_available")&&!l.endsWith("4c002e0305708"));t=[...t,...i],r.offset+=r.limit}catch(e){console.log("Помилка під час запиту:",e);break}if(r.total<=r.offset){s(!1,!1);break}if(t.length>=r.requiredCharacters){t=t.slice(0,r.requiredCharacters),s(!1,!0);break}}n.insertAdjacentHTML("beforeend",C(t))}function F(){o()}b(g,{defaultDate:new Date,allowInput:!0,onClose:(t,e,i)=>{if(S(e))a.date=e;else{Notiflix.Notify.failure("Invalid date format. Expected YYYY-MM-DD"),i.clear(),a.date=null;return}}});function S(t){return/^\d{4}-\d{2}-\d{2}$/.test(t)}h.addEventListener("click",F);p.addEventListener("input",f(800,D));window.addEventListener("resize",f(1e3,L));
//# sourceMappingURL=characters.js.map
