import{b as h,d as C}from"./assets/createMarkup-DlEqHU6R.js";import{f as p,d as f}from"./assets/vendor-Dn3nGrsG.js";function y(){return window.innerWidth<=767?{limit:5,offset:0,requiredCharacters:5,currentCategory:"mobile"}:window.innerWidth<=1439?{limit:8,offset:0,requiredCharacters:8,currentCategory:"tablet"}:{limit:16,offset:0,requiredCharacters:16,currentCategory:"desktop"}}document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1});const b=document.querySelector("#date-picker"),g=document.querySelector(".js-filter-form"),n=document.querySelector(".js-characters-list"),m=document.querySelector(".js-main-character__btn"),c=document.querySelector(".js-loader"),d=document.querySelector("body"),u=document.querySelector(".notFound__box"),{limit:q,offset:k,requiredCharacters:v,currentCategory:w}=y(),t={limit:q,offset:k,requiredCharacters:v,currentCategory:w,total:0},a={comics:null,name:null,orderBy:null,date:null};function L(){const e=y();e.currentCategory!==t.currentCategory&&(t.currentCategory=e.currentCategory,t.limit=e.limit,t.offset=0,t.requiredCharacters=e.requiredCharacters),n.innerHTML="",o()}function i(e,r){e?(c.style.display="block",d.style.pointerEvents="none"):(c.style.display="none",d.style.pointerEvents="all"),m.style.display=r?"block":"none"}function M(e){e?(u.style.display="",n.style.display="none"):(u.style.display="none",n.style.display="")}o();function D(e){const r=e.target;switch(r.name){case"comics":a.comics=r.value.replace(/[^0-9]/g,"");break;case"name":a.name=r.value;break;case"orderBy":a.orderBy=r.value.toLowerCase();break}t.offset=0,n.innerHTML="",o()}async function o(){let e=[];for(i(!0,!1);e.length<t.requiredCharacters;){try{const{data:r}=await h(a,t.offset,t.limit);t.total=r.total,M(!r.results.length);const s=r.results.filter(({thumbnail:{path:l}})=>!l.endsWith("image_not_available")&&!l.endsWith("4c002e0305708"));e=[...e,...s],t.offset+=t.limit}catch(r){console.log("Помилка під час запиту:",r);break}if(t.total<=t.offset){i(!1,!1);break}if(e.length>=t.requiredCharacters){e=e.slice(0,t.requiredCharacters),i(!1,!0);break}}n.insertAdjacentHTML("beforeend",C(e))}function E(){o()}p(b,{defaultDate:new Date,allowInput:!0,onClose:(e,r,s)=>{if(F(r))a.date=r;else{Notiflix.Notify.failure("Invalid date format. Expected YYYY-MM-DD"),s.clear(),a.date=null;return}}});function F(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)}m.addEventListener("click",E);g.addEventListener("input",f(800,D));window.addEventListener("resize",f(1e3,L));
//# sourceMappingURL=characters.js.map
