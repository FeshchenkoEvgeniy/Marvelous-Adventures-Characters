import{a as y}from"./assets/api-oWQ6fUR6.js";import{d as m}from"./assets/vendor-BQEYCykn.js";function u(){return window.innerWidth<=767?{limit:5,offset:0,requiredCharacters:5,currentCategory:"mobile"}:window.innerWidth<=1439?{limit:8,offset:0,requiredCharacters:8,currentCategory:"tablet"}:{limit:16,offset:0,requiredCharacters:16,currentCategory:"desktop"}}const f=document.querySelector(".js-characters-list"),i=document.querySelector(".js-main-character__btn"),c=document.querySelector(".js-loader"),l=document.querySelector("body"),{limit:C,offset:g,requiredCharacters:b,currentCategory:p}=u(),t={limit:C,offset:g,requiredCharacters:b,currentCategory:p};let s=!0;window.addEventListener("resize",m(1e3,q));i.addEventListener("click",w);o();function q(){const e=u();e.currentCategory!==t.currentCategory&&(t.currentCategory=e.currentCategory,t.limit=e.limit,t.offset=0,t.requiredCharacters=e.requiredCharacters,f.innerHTML="",o())}function d(){s?(c.style.display="block",l.style.pointerEvents="none"):(c.style.display="none",l.style.pointerEvents="all")}async function o(){let e=[];for(i.style.display="none",s=!0,d();e.length<t.requiredCharacters;){try{const{data:r}=await y(t.offset,t.limit),n=r.results.filter(({thumbnail:{path:a}})=>!a.endsWith("image_not_available")&&!a.endsWith("4c002e0305708"));e=[...e,...n],t.offset+=t.limit}catch(r){console.log("Помилка під час запиту:",r);break}if(e.length>=t.requiredCharacters){e=e.slice(0,t.requiredCharacters),i.style.display="block",s=!1,d();break}}f.insertAdjacentHTML("beforeend",_(e))}function w(){t.offset>=1500&&(i.style.display="none"),o()}function _(e){return e.map(({name:r,resourceURI:n,thumbnail:{extension:a,path:h}})=>`
            <li class="characters__item" data-url='${n}'>
                <img src="${h}.${a}" alt="${r}" class="characters__img" />
                <p class="characters__name">${r}</p>
            </li>
        `).join("")}
//# sourceMappingURL=characters.js.map
